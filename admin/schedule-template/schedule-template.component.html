<app-admin-head></app-admin-head>
<mat-drawer-container class="w-full h-screen">
    <mat-drawer mode="side" opened>
        <div class="h-full bg-green-800"><app-admin-nav></app-admin-nav>
        </div>
    </mat-drawer>
    <mat-drawer-content>
        <div class="flex w-full px-8 pt-8 gap-2">
            <div class="w-full">
                <span class="text-md" [routerLink]="['/admin/schedule/']">Back to Listing</span>
                <p class="my-4 pt-4 text-xl">Time Schedule</p>
                <div class="w-3/4 flex">
                    <input type="text" class="w-1/3 mx-4 p-2 border-gray-400 border-2 rounded" [(ngModel)]="templateName"
                        placeholder="Template Name">
                    <button [disabled]="templateName===null" class="disabled:bg-gray-400 w-1/6 p-2 text-white font-bold bg-green-900 rounded" (click)="saveSched()">Save</button>
                </div>
            </div>
        </div>
        <!-- <div class="flex w-full px-8 gap-2">
            <div class="w-full flex gap-2">
                <div class="w-1/12">
                    <input type="time" class="w-full bg-gray-100 p-2 rounded" required [min]="fromMin" (change)="addTime($event)" [(ngModel)]="timeFrom" pattern="[0-9]{2}:[0-9]{2}">
                </div>
                <div class="w-1/12">
                    <input type="time" class="w-full bg-gray-100 p-2 rounded"  [min]="minTime" [(ngModel)]="timeTo" pattern="[0-9]{2}:[0-9]{2}">
                </div>
                <div class="w-2/12">
                    <button class="w-full bg-green-500 text-white p-2 rounded" (click)="addtoSched()">Add Time Schedule</button>
                </div>
            </div>
        </div> -->
        <div class="flex w-full p-8">
            <div class="flex w-full">
                <table class="w-full border p-8 border">
                    <thead class="border">
                        <tr class="text-center">
                            <td class="border p-2 text-white bg-green-800 text-md"></td>
                            <td class="border p-2 text-white bg-green-800 text-md">MON</td>
                            <td class="border p-2 text-white bg-green-800 text-md">TUE</td>
                            <td class="border p-2 text-white bg-green-800 text-md">WED</td>
                            <td class="border p-2 text-white bg-green-800 text-md">THU</td>
                            <td class="border p-2 text-white bg-green-800 text-md">FRI</td>
                        </tr>
                    </thead>
                    <tbody class="border">
                        <ng-container *ngFor="let row of schedInfo;let i = index">
                            <tr>
                                <td class="border p-2 text-md w-1/3">
                                    <mat-radio-group aria-label="Select an option" class="disabled:bg-green-500"
                                        disabled="true" color="primary" [(ngModel)]="row.isSelected">
                                        <mat-radio-button [value]="true"></mat-radio-button>
                                    </mat-radio-group>
                                    <input type="time" min="8:00" max="17:00" class="border rounded px-2"
                                        [disabled]="!row.prevSelected" (change)="getValue('from',$event, i)"
                                        [(ngModel)]="row.timeFrom"
                                        [ngClass]="row.isValid === false ? 'border-red-500 border-2':''" /> -
                                    <input type="time" min="8:00" max="17:00" class="border rounded px-2"
                                        [disabled]="row.fromSelected===false" (change)="getValue('to',$event, i)"
                                        [(ngModel)]="row.timeTo"
                                        [ngClass]="row.isValid === false ? 'border-red-500 border-2':''" />

                                </td>
                                <td class="border p-2 text-md"></td>
                                <td class="border p-2 text-md"></td>
                                <td class="border p-2 text-md"></td>
                                <td class="border p-2 text-md"></td>
                                <td class="border p-2 text-md"></td>
                            </tr>
                        </ng-container>
                    </tbody>
                </table>
            </div>
        </div>
    </mat-drawer-content>
</mat-drawer-container>